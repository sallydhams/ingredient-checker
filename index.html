<!DOCTYPE html>
<html>
<head>
    <title>Ingredient Checker</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #f6f8fd 0%, #f1f4f9 100%);
            color: #2d3748;
            line-height: 1.6;
            min-height: 100vh;
        }
        .container {
            background-color: white;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            margin-bottom: 40px;
        }
        h1 {
            color: #2c5282;
            font-size: 28px;
            margin: 0 0 24px 0;
            font-weight: 600;
        }
        textarea {
            width: 100%;
            height: 150px;
            margin: 16px 0;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-family: 'Inter', sans-serif;
            font-size: 15px;
            line-height: 1.5;
            transition: all 0.3s ease;
            resize: vertical;
            box-sizing: border-box;
        }
        textarea:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
        }
        .button-group {
            display: flex;
            gap: 12px;
            margin: 20px 0;
        }
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-size: 15px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        button:first-child {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
        }
        button:first-child:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.25);
        }
        button.secondary {
            background: #edf2f7;
            color: #4a5568;
        }
        button.secondary:hover {
            background: #e2e8f0;
        }
        .results {
            margin-top: 24px;
        }
        .warning {
            color: #e53e3e;
            margin-top: 12px;
            font-weight: 500;
        }
        .safe {
            color: #38a169;
            font-weight: 500;
            padding: 16px;
            background: #f0fff4;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .safe:before {
            content: "✓";
            font-size: 20px;
        }
        .ingredients-list {
            list-style-type: none;
            padding-left: 0;
            margin: 12px 0;
        }
        .ingredients-list li {
            margin: 8px 0;
            padding: 12px 16px 12px 24px;
            position: relative;
            background: #fff5f5;
            border-radius: 8px;
            color: #c53030;
            font-size: 15px;
        }
        .ingredients-list li:before {
            content: "•";
            position: absolute;
            left: 10px;
            color: #e53e3e;
        }
        .section-title {
            color: #c53030;
            margin: 24px 0 16px 0;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        #loading {
            display: none;
            color: #4a5568;
            margin: 12px 0;
            font-size: 15px;
        }
        .description {
            color: #718096;
            font-size: 15px;
            margin: 12px 0;
            line-height: 1.6;
        }
        footer {
            text-align: center;
            color: #718096;
            font-size: 14px;
            margin-top: 40px;
        }
        @media (max-width: 840px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Endocrine Disruptor & Pore Clogging Ingredient Checker</h1>
        <p class="description">Paste your ingredients below.</p>
        
        <textarea id="ingredients" placeholder="Example: Water, Glycerin, Coconut Oil, Shea Butter"></textarea>
        
        <div class="button-group">
            <button onclick="checkIngredients()">Check Ingredients</button>
            <button onclick="clearResults()" class="secondary">Clear</button>
        </div>
        
        <div id="loading">Analyzing ingredients...</div>
        <div id="results" class="results"></div>
    </div>

    <script>
        const endocrineDisruptors = {
            "All": [
                "Bisphenol A (BPA)", "Bisphenol S (BPS)", "Bisphenol F (BPF)", "Bisphenol AF (BPAF)",
                "Di-isodecyl phthalate (DIDP)", "Di-isononyl phthalate (DINP)", "Di-n-octyl phthalate (DnOP)",
                "Polyvinyl chloride (PVC)", "Benzyl butyl phthalate (BBP)", "Bis(2-ethylhexyl) phthalate (DEHP)",
                "Dibutyl phthalate (DBP)", "Diisobutyl phthalate (DIBP)", "Dipentyl phthalate (DPP)",
                "N-pentyl-isopentylphthalate", "Benzophenone-1", "Benzophenone-2", "Benzophenone-3", 
                "Benzophenone-4", "Benzophenone-5", "3-Benzylidene camphor", "4-Methylbenzylidene camphor", 
                "Ethylhexyl dimethyl PABA", "Cyclopentasiloxane", "Cyclotetrasiloxane", 
                "Octamethylcyclotetrasiloxane (D4)", "Decamethylcyclopentasiloxane (D5)", "Butylparaben", 
                "Propylparaben", "Ethylparaben", "Methylparaben", "Triclosan", "Resorcinol",
                "Triclocarban", "Benzalkonium chloride", "Benzethonium chloride",
                "Methylisothiazolinone", "Methylchloroisothiazolinone"
            ]
        };

        const comedogenicIngredients = {
            "All": [
                "Acetylated Lanolin", "Algae Extract", "Butyl Stearate", "Carrageenan", "Cocoa Butter",
                "Coconut Butter", "Coconut Oil", "Cotton Seed Oil", "D & C Red", "Isopropyl Myristate",
                "Isopropyl Palmitate", "Lauric Acid", "Myristic Acid", "Oleic Acid", "Red Algae",
                "Sodium Laureth Sulfate", "Sodium Lauryl Sulfate", "Soybean Oil", "Wheat Germ Oil",
                "Almond Oil", "Avocado Oil", "Corn Oil", "Cotton Awws Oil", "Glyceryl Stearate SE",
                "Grape Seed Oil", "Linseed Oil", "Mink Oil", "Myristyl Myristate", "Octyl Palmitate",
                "Olive Oil", "Palm Oil", "Peach Kernel Oil", "Peanut Oil", "PPG 2 Myristyl Propionate",
                "Propylene Glycol Monostearate", "Sesame Oil", "Shark Liver Oil", "Squalene",
                "Stearic Acid Tea", "Sunflower Oil", "Apricot Kernel Oil", "Argan Oil", "Brazil Nut Oil",
                "Evening Primrose Oil", "Flax Seed Oil", "Hemp Seed Oil", "Macadamia Nut Oil", "Marula Oil",
                "Moringa Oil", "Pistachio Oil", "Rosehip Oil", "Sweet Almond Oil", "Babassu Oil",
                "Borage Oil", "Castor Oil", "Grapefruit Seed Oil", "Hazelnut Oil", "Jatropha Oil",
                "Karanja Oil", "Kukui Nut Oil", "Neem Oil", "Pine Oil", "Pracaxi Oil", "Tamanu Oil",
                "Cupuacu Butter", "Kokum Butter", "Mango Butter", "Murumuru Butter", "Shea Butter",
                "Tucuma Butter", "Acai Butter", "Aloe Butter", "Illipe Butter", "Kombo Butter",
                "Ucuuba Butter", "Behenyl Alcohol", "Cetearyl Alcohol", "Decyl Alcohol", "Lauryl Alcohol",
                "Myristyl Alcohol", "Oleyl Alcohol", "Stearyl Alcohol", "Cetyl Alcohol",
                "Acetylated Lanolin Alcohol", "Algae", "Algin", "Brominated Vegetable Oil",
                "Carbomer", "Ceteareth", "Chondrus Crispus", "Cocos Nucifera", "Colloidal Sulfur",
                "Hydrogenated Oil", "Kelp", "Laminaria Digitata Extract", "Lanolin", "Laureth-4",
                "Laureth-23", "Laureth-7", "PEG", "Plankton", "Potassium Chloride", "Seaweed",
                "Sodium Chloride", "Solulan 16", "Sorbitan Oleate", "Xylene"
            ]
        };

        function getIngredientsList() {
            const text = document.getElementById('ingredients').value.trim();
            return text.split(/,(?![^(]*\\))/)
                .map(i => i.trim())
                .filter(i => i.length > 0);
        }

        function clearResults() {
            document.getElementById('results').innerHTML = '';
            document.getElementById('ingredients').value = '';
        }

        function checkIngredients() {
            const loading = document.getElementById('loading');
            loading.style.display = 'block';
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';

            setTimeout(() => {
                const ingredientsList = getIngredientsList();
                
                const results = {
                    endocrineDisruptors: [],
                    comedogenic: []
                };

                ingredientsList.forEach(ingredient => {
                    // Check for endocrine disruptors
                    endocrineDisruptors.All.forEach(item => {
                        if (ingredient.toLowerCase().includes(item.toLowerCase())) {
                            results.endocrineDisruptors.push({
                                ingredient: ingredient,
                                match: item
                            });
                        }
                    });

                    // Check for comedogenic ingredients
                    comedogenicIngredients.All.forEach(item => {
                        if (ingredient.toLowerCase().includes(item.toLowerCase())) {
                            results.comedogenic.push({
                                ingredient: ingredient,
                                match: item
                            });
                        }
                    });
                });

                loading.style.display = 'none';

                if (ingredientsList.length === 0) {
                    resultsDiv.innerHTML = '<p class="warning">Please enter some ingredients to check.</p>';
                    return;
                }

                if (results.endocrineDisruptors.length === 0 && results.comedogenic.length === 0) {
                    resultsDiv.innerHTML = '<p class="safe">No concerning ingredients found!</p>';
                    return;
                }

                if (results.endocrineDisruptors.length > 0) {
                    resultsDiv.innerHTML += '<div class="section-title">⚠️ Endocrine Disruptors Found:</div>';
                    const uniqueIngredients = [...new Set(results.endocrineDisruptors.map(item => 
                        `${item.ingredient} (matches ${item.match})`
                    ))];
                    
                    resultsDiv.innerHTML += `
                        <ul class="ingredients-list">
                            ${uniqueIngredients.map(ingredient => `<li>${ingredient}</li>`).join('')}
                        </ul>
                    `;
                }

                if (results.comedogenic.length > 0) {
                    resultsDiv.innerHTML += '<div class="section-title">⚠️ Pore-Clogging Ingredients Found:</div>';
                    const uniqueComedogenic = [...new Set(results.comedogenic.map(item => 
                        `${item.ingredient} (matches ${item.match})`
                    ))];
                    
                    resultsDiv.innerHTML += `
                        <ul class="ingredients-list">
                            ${uniqueComedogenic.map(ingredient => `<li>${ingredient}</li>`).join('')}
                        </ul>
                    `;
                }
            }, 100);
        }

        // Add event listener for Enter key
        document.getElementById('ingredients').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault(); // Prevent default newline
                checkIngredients();
            }
        });
    </script>
</body>
</html>